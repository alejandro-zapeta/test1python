{"version":3,"sources":["webpack:///./src/views/usuarios/gestionar.vue?8363","webpack:///src/views/usuarios/gestionar.vue","webpack:///./src/views/usuarios/gestionar.vue?c2d5","webpack:///./src/views/usuarios/gestionar.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","fluid","height","dark","color","_v","tipo","_s","itemObj","usuario","_e","ref","row","wrap","titulo","required","xs12","md5","clearable","items","clientes_azure","rules","v","item-text","item-value","background-color","model","value","callback","$$v","$set","expression","label","md3","solo","type","md2","md1","r","md4","show1","name","counter","pwd1","show2","pwd2","align-center","justify-center","fill-height","on","click","registrar_usuario","src","staticRenderFns","axios","__webpack_require__","alertify","URI","URI_USUARIO","mitoken","JSON","parse","localStorage","getItem","clientes_copia","token","encontrar_usuario","idUsuario","i","length","cliente","gestionarvue_type_script_lang_js_","props","Object","String","[object Object]","methods","$refs","formulario","validate","vue","hash","create","update","toSend","assign","clienteEncontrado","hex","miuri","post","then","response","data","success","setTimeout","$router","push","error","get","headers","Authorization","accept","console","log","slice","catch","usuarios_gestionarvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0aab0a.af035864.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('br'),_c('v-container',{staticClass:\"via-container\",attrs:{\"id\":\"divRegistrarse\",\"fluid\":\"\"}},[_c('v-card',{staticClass:\"elevation-4\"},[_c('v-toolbar',{attrs:{\"height\":\"30\",\"dark\":\"\",\"color\":\"indigo\"}},[_c('v-spacer'),_c('v-toolbar-title',{staticClass:\"align-end\"},[_vm._v(\"Gestión Usuario - \"),(_vm.tipo ==='modificando')?_c('label',[_vm._v(_vm._s(_vm.itemObj.usuario))]):_vm._e()]),_c('v-spacer')],1),_c('v-card-text',[_c('v-form',{ref:\"formulario\"},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Cliente\",\"required\":\"true\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md5\":\"\"}},[_c('v-select',{staticClass:\"text-truncate\",attrs:{\"clearable\":\"\",\"items\":_vm.clientes_azure,\"rules\":[function (v) { return !!v || 'Cliente requerido'; }],\"item-text\":\"companyProfile.companyName\",\"item-value\":\"id\",\"height\":\"25\",\"background-color\":\"blue lighten-3\",\"color\":\"#81D4FA\",\"required\":\"\"},model:{value:(_vm.usuario.cliente_id),callback:function ($$v) {_vm.$set(_vm.usuario, \"cliente_id\", $$v)},expression:\"usuario.cliente_id\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Rol\",\"required\":\"true\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md5\":\"\"}},[_c('v-select',{attrs:{\"items\":['Administrador', 'Técnico', 'Cliente'],\"label\":\"Seleccione el rol\",\"clearable\":\"\"},model:{value:(_vm.usuario.rol),callback:function ($$v) {_vm.$set(_vm.usuario, \"rol\", $$v)},expression:\"usuario.rol\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Descripción\",\"required\":\"false\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md3\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"type\":\"text\"},model:{value:(_vm.usuario.descripcion),callback:function ($$v) {_vm.$set(_vm.usuario, \"descripcion\", $$v)},expression:\"usuario.descripcion\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Correo\",\"required\":\"false\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md2\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"type\":\"text\"},model:{value:(_vm.usuario.correo),callback:function ($$v) {_vm.$set(_vm.usuario, \"correo\", $$v)},expression:\"usuario.correo\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Teléfono\",\"required\":\"false\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md2\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"type\":\"text\"},model:{value:(_vm.usuario.telefono),callback:function ($$v) {_vm.$set(_vm.usuario, \"telefono\", $$v)},expression:\"usuario.telefono\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Margen (%)\",\"required\":\"true\"}}),_c('v-flex',{attrs:{\"md1\":\"\",\"xs12\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"required\":\"\",\"type\":\"number\",\"rules\":[function (r) { return !!r || 'Escriba el margen'; }]},model:{value:(_vm.usuario.margen),callback:function ($$v) {_vm.$set(_vm.usuario, \"margen\", $$v)},expression:\"usuario.margen\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Tiempo de suscripción\",\"required\":\"false\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md2\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"type\":\"text\"},model:{value:(_vm.usuario.tiempo_suscripcion),callback:function ($$v) {_vm.$set(_vm.usuario, \"tiempo_suscripcion\", $$v)},expression:\"usuario.tiempo_suscripcion\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Tiempo vigencia margen\",\"required\":\"false\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md2\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"type\":\"text\"},model:{value:(_vm.usuario.tiempo_vigencia_margen),callback:function ($$v) {_vm.$set(_vm.usuario, \"tiempo_vigencia_margen\", $$v)},expression:\"usuario.tiempo_vigencia_margen\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Alerta consumo\"}}),_c('v-flex',{attrs:{\"md1\":\"\",\"xs12\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"required\":\"\",\"type\":\"number\"},model:{value:(_vm.usuario.alerta_consumo),callback:function ($$v) {_vm.$set(_vm.usuario, \"alerta_consumo\", $$v)},expression:\"usuario.alerta_consumo\"}})],1)],1),(_vm.tipo !== 'modificando')?_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Usuario\",\"required\":\"true\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md3\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"required\":\"\",\"xs12\":\"\",\"md4\":\"\",\"type\":\"text\"},model:{value:(_vm.usuario.usuario),callback:function ($$v) {_vm.$set(_vm.usuario, \"usuario\", $$v)},expression:\"usuario.usuario\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Contraseña\",\"required\":\"true\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md3\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"rules\":[function (value) { return !!value || 'Requerido'; }],\"type\":_vm.show1 ? 'text' : 'password',\"name\":\"input-10-1\",\"counter\":\"\",\"solo\":\"\"},model:{value:(_vm.pwd1),callback:function ($$v) {_vm.pwd1=$$v},expression:\"pwd1\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Confirme contraseña\",\"required\":\"false\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md3\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"rules\":[function (value) { return !!value || 'Requerido'; }],\"type\":_vm.show2 ? 'text' : 'password',\"name\":\"input-10-1\",\"counter\":\"\",\"solo\":\"\"},model:{value:(_vm.pwd2),callback:function ($$v) {_vm.pwd2=$$v},expression:\"pwd2\"}})],1)],1):_vm._e(),_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\",\"row\":\"\",\"fill-height\":\"\"}},[_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":_vm.registrar_usuario}},[_c('img',{attrs:{\"src\":\"img/save.png\",\"height\":\"25\"}}),_vm._v(\" Registrarse\\n                        \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <br>\r\n        <v-container id=\"divRegistrarse\" class=\"via-container\" fluid>\r\n            <v-card class=\"elevation-4\">\r\n                <v-toolbar height=\"30\" dark color=\"indigo\">\r\n                    <v-spacer></v-spacer>\r\n                    <v-toolbar-title class=\"align-end\">Gestión Usuario - <label v-if=\"tipo ==='modificando'\">{{itemObj.usuario}}</label></v-toolbar-title>\r\n                    <v-spacer></v-spacer>\r\n                </v-toolbar>\r\n                <v-card-text>\r\n                    <v-form ref=\"formulario\">\r\n                        <v-layout row wrap>\r\n                            <via-lbl-frm titulo='Cliente' required='true' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md5>\r\n                                <v-select clearable class=\"text-truncate\" v-model=\"usuario.cliente_id\" :items=\"clientes_azure\" :rules=\"[v => !!v || 'Cliente requerido']\" item-text=\"companyProfile.companyName\" item-value=\"id\" height=\"25\" background-color=\"blue lighten-3\" color=\"#81D4FA\" required></v-select>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Rol' required='true' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md5>\r\n                                <v-select v-model=\"usuario.rol\" :items=\"['Administrador', 'Técnico', 'Cliente']\" label=\"Seleccione el rol\" clearable></v-select>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Descripción' required='false' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md3>\r\n                                <v-text-field solo type=\"text\" class=\"mr-3\" v-model=\"usuario.descripcion\"></v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Correo' required='false' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md2>\r\n                                <v-text-field solo type=\"text\" class=\"mr-3\" v-model=\"usuario.correo\"></v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Teléfono' required='false' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md2>\r\n                                <v-text-field solo type=\"text\" class=\"mr-3\" v-model=\"usuario.telefono\"></v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Margen (%)' required='true' class='xs12 md1 miCol' />\r\n                            <v-flex md1 xs12>\r\n                                <v-text-field solo required type=\"number\" class=\"mr-3\" v-model='usuario.margen' :rules=\"[r => !!r || 'Escriba el margen']\">\r\n                                </v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Tiempo de suscripción' required='false' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md2>\r\n                                <v-text-field solo type=\"text\" class=\"mr-3\" v-model=\"usuario.tiempo_suscripcion\"></v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Tiempo vigencia margen' required='false' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md2>\r\n                                <v-text-field solo type=\"text\" class=\"mr-3\" v-model=\"usuario.tiempo_vigencia_margen\"></v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Alerta consumo' class='xs12 md1 miCol' />\r\n                            <v-flex md1 xs12>\r\n                                <v-text-field solo required type=\"number\" class=\"mr-3\" v-model='usuario.alerta_consumo'>\r\n                                </v-text-field>\r\n                            </v-flex>\r\n                        </v-layout>\r\n                        <v-layout v-if=\"tipo !== 'modificando'\" row wrap>\r\n                            <via-lbl-frm titulo='Usuario' required='true' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md3>\r\n                                <v-text-field solo required xs12 md4 type=\"text\" class=\"mr-3\" v-model=\"usuario.usuario\">\r\n                                </v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Contraseña' required='true' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md3>\r\n                                <v-text-field v-model=\"pwd1\" class=\"mr-3\" :rules=\"[value => !!value || 'Requerido']\" :type=\"show1 ? 'text' : 'password'\" name=\"input-10-1\" counter solo></v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Confirme contraseña' required='false' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md3>\r\n                                <v-text-field v-model=\"pwd2\" class=\"mr-3\" :rules=\"[value => !!value || 'Requerido']\" :type=\"show2 ? 'text' : 'password'\" name=\"input-10-1\" counter solo></v-text-field>\r\n                            </v-flex>\r\n                        </v-layout>\r\n                        <v-layout align-center justify-center row fill-height>\r\n                            <v-btn color=\"success\" @click=\"registrar_usuario\">\r\n                                <img src=\"img/save.png\" height=\"25\"> Registrarse\r\n                            </v-btn>\r\n                        </v-layout>\r\n                    </v-form>\r\n                </v-card-text>\r\n            </v-card>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n<script>\r\nvar axios = require(\"axios\");\r\nvar alertify = require(\"alertifyjs\");\r\nvar md5 = require('js-md5');\r\nvar URI = \"https://api.partnercenter.microsoft.com/v1/\";\r\nvar URI_USUARIO = \"https://apicps.azurewebsites.net/rs/usuario/\";\r\nvar mitoken = JSON.parse(localStorage.getItem(\"token\"));\r\nvar clientes_copia = [];\r\nvar token = mitoken[\"access_token\"];\r\n\r\nfunction encontrar_usuario(idUsuario) {\r\n    for (var i = clientes_copia.length - 1; i >= 0; i--) {\r\n        var cliente = clientes_copia[i];\r\n        if (cliente[\"id\"] === idUsuario) {\r\n            return cliente;\r\n        }\r\n    }\r\n}\r\n\r\nexport default {\r\n    props: {\r\n        itemObj: Object,\r\n        tipo: String\r\n    },\r\n    data() {\r\n        return {\r\n            \"usuario\": {},\r\n            \"pwd1\": \"\",\r\n            \"pwd2\": \"\",\r\n            \"clientes_azure\": []\r\n        }\r\n    },\r\n    methods: {\r\n        \"registrar_usuario\": function() {\r\n            if (this.$refs.formulario.validate() === false)\r\n                return;\r\n            if (this.pwd1 !== this.pwd2) {\r\n                alertify.error(\"La contraseña no coincide con la repetición de la misma.\");\r\n                return;\r\n            }\r\n            var vue = this;\r\n            var usuario = this.usuario;\r\n            var hash = md5.create();\r\n            hash.update(this.pwd1);\r\n            var toSend = Object.assign({}, usuario);\r\n            var clienteEncontrado = encontrar_usuario(toSend[\"cliente_id\"]);\r\n\r\n            toSend[\"pwd\"] = hash.hex();\r\n            toSend[\"nombre_cliente\"] = clienteEncontrado[\"companyProfile\"][\"companyName\"];\r\n            var miuri = \"\";\r\n            miuri = (this.tipo === \"modificando\") ?\r\n                (URI_USUARIO + this.itemObj.usuario + \"/actualizar-usuario\") :\r\n                (URI_USUARIO + \"insertar-usuario\");\r\n            axios.post(miuri, toSend).then(function(response) {\r\n                if(response.data === \"OK\") {\r\n                    alertify.success((vue.tipo === \"modificando\") ? \"Datos actualizados\": \"Datos Ingresados\");\r\n                    setTimeout(function(){ vue.$router.push({\"name\": \"usuarios_index\"}) }, 350);\r\n                } else {\r\n                    alertify.error(\"Hubo un error, favor de revisar la información y volver a intentar\");\r\n                }\r\n            });\r\n        }\r\n\r\n    },\r\n    created() {\r\n        var vue = this;\r\n        //alert(this.tipo);\r\n\r\n\r\n        axios.get(URI + \"customers\", { \"headers\": { \"Authorization\": \"Bearer \" + token, \"accept\": \"application/json\" } })\r\n            .then(function(response) {\r\n                console.log(\"customers\");\r\n                console.log(response);\r\n                vue.clientes_azure = response.data.items;\r\n                clientes_copia = response.data.items.slice(0);\r\n                if (vue.tipo === \"modificando\") {\r\n                    vue.usuario = vue.itemObj;\r\n                }\r\n            }).catch(function(error) {\r\n                console.log(\"error \" + error);\r\n            });\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gestionar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gestionar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./gestionar.vue?vue&type=template&id=9ff74034&\"\nimport script from \"./gestionar.vue?vue&type=script&lang=js&\"\nexport * from \"./gestionar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"gestionar.vue\"\nexport default component.exports"],"sourceRoot":""}