{"version":3,"sources":["webpack:///./src/views/usuarios/gestionar.vue?c1c5","webpack:///src/views/usuarios/gestionar.vue","webpack:///./src/views/usuarios/gestionar.vue?c2d5","webpack:///./src/views/usuarios/gestionar.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","fluid","height","dark","color","_v","ref","row","wrap","titulo","required","xs12","md5","clearable","items","clientes_azure","rules","v","item-text","item-value","background-color","model","value","usuario","callback","$$v","$set","expression","label","md3","solo","type","md2","md1","r","md4","disable","_e","show1","name","counter","pwd1","show2","pwd2","align-center","justify-center","fill-height","on","click","$event","editarMisDatos","src","registrar_usuario","staticRenderFns","axios","__webpack_require__","alertify","URI","URI_USUARIO","mitoken","JSON","parse","localStorage","getItem","clientes_copia","token","encontrar_usuario","idUsuario","i","length","cliente","gestionarvue_type_script_lang_js_","[object Object]","methods","$refs","formulario","validate","hash","create","update","toSend","Object","assign","clienteEncontrado","hex","console","log","stringify","post","then","response","alert","error","vue","get","headers","Authorization","accept","data","slice","catch","usuarios_gestionarvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0aab0a.5476cfc3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('br'),_c('v-container',{staticClass:\"via-container\",attrs:{\"id\":\"divRegistrarse\",\"fluid\":\"\"}},[_c('v-card',{staticClass:\"elevation-4\"},[_c('v-toolbar',{attrs:{\"height\":\"30\",\"dark\":\"\",\"color\":\"indigo\"}},[_c('v-spacer'),_c('v-toolbar-title',{staticClass:\"align-end\"},[_vm._v(\"Gestión Usuario\")]),_c('v-spacer')],1),_c('v-card-text',[_c('v-form',{ref:\"formulario\"},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Cliente\",\"required\":\"true\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md5\":\"\"}},[_c('v-select',{staticClass:\"text-truncate\",attrs:{\"clearable\":\"\",\"items\":_vm.clientes_azure,\"rules\":[function (v) { return !!v || 'Cliente requerido'; }],\"item-text\":\"companyProfile.companyName\",\"item-value\":\"id\",\"height\":\"25\",\"background-color\":\"blue lighten-3\",\"color\":\"#81D4FA\",\"required\":\"\"},model:{value:(_vm.usuario.cliente_id),callback:function ($$v) {_vm.$set(_vm.usuario, \"cliente_id\", $$v)},expression:\"usuario.cliente_id\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Rol\",\"required\":\"true\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md5\":\"\"}},[_c('v-select',{attrs:{\"items\":['Administrador', 'Técnico', 'Cliente'],\"label\":\"Seleccione el rol\",\"clearable\":\"\"},model:{value:(_vm.usuario.rol),callback:function ($$v) {_vm.$set(_vm.usuario, \"rol\", $$v)},expression:\"usuario.rol\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Descripción\",\"required\":\"false\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md3\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"type\":\"text\"},model:{value:(_vm.usuario.descripcion),callback:function ($$v) {_vm.$set(_vm.usuario, \"descripcion\", $$v)},expression:\"usuario.descripcion\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Correo\",\"required\":\"false\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md2\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"type\":\"text\"},model:{value:(_vm.usuario.correo),callback:function ($$v) {_vm.$set(_vm.usuario, \"correo\", $$v)},expression:\"usuario.correo\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Teléfono\",\"required\":\"false\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md2\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"type\":\"text\"},model:{value:(_vm.usuario.telefono),callback:function ($$v) {_vm.$set(_vm.usuario, \"telefono\", $$v)},expression:\"usuario.telefono\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Margen (%)\",\"required\":\"true\"}}),_c('v-flex',{attrs:{\"md1\":\"\",\"xs12\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"required\":\"\",\"type\":\"number\",\"rules\":[function (r) { return !!r || 'Escriba el margen'; }]},model:{value:(_vm.usuario.margen),callback:function ($$v) {_vm.$set(_vm.usuario, \"margen\", $$v)},expression:\"usuario.margen\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Tiempo de suscripción\",\"required\":\"false\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md2\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"type\":\"text\"},model:{value:(_vm.usuario.tiempo_suscripcion),callback:function ($$v) {_vm.$set(_vm.usuario, \"tiempo_suscripcion\", $$v)},expression:\"usuario.tiempo_suscripcion\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Tiempo vigencia margen\",\"required\":\"false\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md2\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"type\":\"text\"},model:{value:(_vm.usuario.tiempo_vigencia_margen),callback:function ($$v) {_vm.$set(_vm.usuario, \"tiempo_vigencia_margen\", $$v)},expression:\"usuario.tiempo_vigencia_margen\"}})],1),_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Alerta consumo\"}}),_c('v-flex',{attrs:{\"md1\":\"\",\"xs12\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"required\":\"\",\"type\":\"number\"},model:{value:(_vm.usuario.alerta_consumo),callback:function ($$v) {_vm.$set(_vm.usuario, \"alerta_consumo\", $$v)},expression:\"usuario.alerta_consumo\"}})],1)],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Usuario\",\"required\":\"true\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"md3\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"solo\":\"\",\"required\":\"\",\"xs12\":\"\",\"md4\":\"\",\"type\":\"text\"},model:{value:(_vm.usuario.usuario),callback:function ($$v) {_vm.$set(_vm.usuario, \"usuario\", $$v)},expression:\"usuario.usuario\"}})],1),(!_vm.disable)?_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Contraseña\",\"required\":\"true\"}}):_vm._e(),(!_vm.disable)?_c('v-flex',{attrs:{\"xs12\":\"\",\"md3\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"rules\":[function (value) { return !!value || 'Requerido'; }],\"type\":_vm.show1 ? 'text' : 'password',\"name\":\"input-10-1\",\"counter\":\"\",\"solo\":\"\"},model:{value:(_vm.pwd1),callback:function ($$v) {_vm.pwd1=$$v},expression:\"pwd1\"}})],1):_vm._e(),(!_vm.disable)?_c('via-lbl-frm',{staticClass:\"xs12 md1 miCol\",attrs:{\"titulo\":\"Confirme contraseña\",\"required\":\"false\"}}):_vm._e(),(!_vm.disable)?_c('v-flex',{attrs:{\"xs12\":\"\",\"md3\":\"\"}},[_c('v-text-field',{staticClass:\"mr-3\",attrs:{\"rules\":[function (value) { return !!value || 'Requerido'; }],\"type\":_vm.show2 ? 'text' : 'password',\"name\":\"input-10-1\",\"counter\":\"\",\"solo\":\"\"},model:{value:(_vm.pwd2),callback:function ($$v) {_vm.pwd2=$$v},expression:\"pwd2\"}})],1):_vm._e()],1),_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\",\"row\":\"\",\"fill-height\":\"\"}},[(!_vm.disable)?_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":_vm.registrar_usuario}},[_c('img',{attrs:{\"src\":\"static/image/save.png\",\"height\":\"25\"}}),_vm._v(\" Registrarse\\n                        \")]):_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.editarMisDatos('modificar')}}},[_c('img',{attrs:{\"src\":\"static/image/save.png\",\"height\":\"25\"}}),_vm._v(\" Guardar\\n                        \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <br>\r\n        <v-container id=\"divRegistrarse\" class=\"via-container\" fluid>\r\n            <v-card class=\"elevation-4\">\r\n                <v-toolbar height=\"30\" dark color=\"indigo\">\r\n                    <v-spacer></v-spacer>\r\n                    <v-toolbar-title class=\"align-end\">Gestión Usuario</v-toolbar-title>\r\n                    <v-spacer></v-spacer>\r\n                </v-toolbar>\r\n                <v-card-text>\r\n                    <v-form ref=\"formulario\">\r\n                        <v-layout row wrap>\r\n                            <via-lbl-frm titulo='Cliente' required='true' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md5>\r\n                                <v-select clearable class=\"text-truncate\" v-model=\"usuario.cliente_id\" :items=\"clientes_azure\" :rules=\"[v => !!v || 'Cliente requerido']\" item-text=\"companyProfile.companyName\" item-value=\"id\" height=\"25\" background-color=\"blue lighten-3\" color=\"#81D4FA\" required></v-select>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Rol' required='true' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md5>\r\n                                <v-select v-model=\"usuario.rol\" :items=\"['Administrador', 'Técnico', 'Cliente']\" label=\"Seleccione el rol\" clearable></v-select>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Descripción' required='false' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md3>\r\n                                <v-text-field solo type=\"text\" class=\"mr-3\" v-model=\"usuario.descripcion\"></v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Correo' required='false' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md2>\r\n                                <v-text-field solo type=\"text\" class=\"mr-3\" v-model=\"usuario.correo\"></v-text-field>\r\n                            </v-flex>\r\n                             <via-lbl-frm titulo='Teléfono' required='false' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md2>\r\n                                <v-text-field solo type=\"text\" class=\"mr-3\" v-model=\"usuario.telefono\"></v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Margen (%)' required='true' class='xs12 md1 miCol' />\r\n                            <v-flex md1 xs12>\r\n                                <v-text-field solo required type=\"number\" class=\"mr-3\" v-model='usuario.margen' :rules=\"[r => !!r || 'Escriba el margen']\">\r\n                                </v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Tiempo de suscripción' required='false' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md2>\r\n                                <v-text-field solo type=\"text\" class=\"mr-3\" v-model=\"usuario.tiempo_suscripcion\"></v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Tiempo vigencia margen' required='false' class='xs12 md1 miCol' />\r\n                             <v-flex xs12 md2>\r\n                                <v-text-field solo type=\"text\" class=\"mr-3\" v-model=\"usuario.tiempo_vigencia_margen\"></v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm titulo='Alerta consumo' class='xs12 md1 miCol' />\r\n                            <v-flex md1 xs12>\r\n                                <v-text-field solo required type=\"number\" class=\"mr-3\" v-model='usuario.alerta_consumo' >\r\n                                </v-text-field>\r\n                            </v-flex>\r\n                           \r\n                        </v-layout>\r\n                        <v-layout row wrap>\r\n                            <via-lbl-frm titulo='Usuario' required='true' class='xs12 md1 miCol' />\r\n                            <v-flex xs12 md3>\r\n                                <v-text-field solo required xs12 md4 type=\"text\" class=\"mr-3\" v-model=\"usuario.usuario\">\r\n                                </v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm v-if=\"!disable\" titulo='Contraseña' required='true' class='xs12 md1 miCol' />\r\n                            <v-flex v-if=\"!disable\" xs12 md3>\r\n                                <v-text-field v-model=\"pwd1\" class=\"mr-3\" :rules=\"[value => !!value || 'Requerido']\" :type=\"show1 ? 'text' : 'password'\" name=\"input-10-1\" counter solo></v-text-field>\r\n                            </v-flex>\r\n                            <via-lbl-frm v-if=\"!disable\" titulo='Confirme contraseña' required='false' class='xs12 md1 miCol' />\r\n                            <v-flex v-if=\"!disable\" xs12 md3>\r\n                                <v-text-field v-model=\"pwd2\" class=\"mr-3\" :rules=\"[value => !!value || 'Requerido']\" :type=\"show2 ? 'text' : 'password'\" name=\"input-10-1\" counter solo></v-text-field>\r\n                            </v-flex>\r\n                        </v-layout>\r\n                        <v-layout align-center justify-center row fill-height>\r\n                            <v-btn v-if=\"!disable\" color=\"success\" @click=\"registrar_usuario\">\r\n                                <img src=\"static/image/save.png\" height=\"25\"> Registrarse\r\n                            </v-btn>\r\n                                <v-btn v-else color=\"primary\" @click=\"editarMisDatos('modificar')\">\r\n                                    <img src=\"static/image/save.png\" height=\"25\"> Guardar\r\n                            </v-btn>\r\n                        </v-layout>\r\n                    </v-form>\r\n                </v-card-text>\r\n            </v-card>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nvar axios = require(\"axios\");\r\nvar alertify = require(\"alertifyjs\");\r\nvar md5 = require('js-md5');\r\nvar URI = \"https://api.partnercenter.microsoft.com/v1/\";\r\nvar URI_USUARIO = \"https://apicps.azurewebsites.net/rs/usuario/\";\r\nvar mitoken = JSON.parse(localStorage.getItem(\"token\"));\r\nvar clientes_copia = [];\r\nvar token = mitoken[\"access_token\"];\r\n\r\nfunction encontrar_usuario(idUsuario){\r\n    for (var i = clientes_copia.length - 1; i >= 0; i--) {\r\n        var cliente = clientes_copia[i];\r\n        if(cliente[\"id\"] === idUsuario){\r\n            return cliente;\r\n        }\r\n    }\r\n}\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            \"usuario\": {},\r\n            \"pwd1\": \"\",\r\n            \"pwd2\": \"\",\r\n            \"clientes_azure\": []\r\n        }\r\n    },\r\n    methods: {\r\n        \"registrar_usuario\": function() {\r\n            if (this.$refs.formulario.validate() === false)\r\n                return;\r\n            if (this.pwd1 !== this.pwd2) {\r\n                alertify.error(\"La contraseña no coincide con la repetición de la misma.\");\r\n                return;\r\n            }\r\n            var usuario = this.usuario;\r\n            var hash = md5.create();\r\n            hash.update(this.pwd1);\r\n            var toSend = Object.assign({}, usuario);\r\n            var clienteEncontrado = encontrar_usuario(toSend[\"cliente_id\"]);\r\n\r\n            toSend[\"pwd\"] = hash.hex();\r\n            toSend[\"nombre_cliente\"] = clienteEncontrado[\"companyProfile\"][\"companyName\"];\r\n            console.log(\"toSend\");\r\n            console.log(JSON.stringify(toSend));\r\n            axios.post(URI_USUARIO + \"insertar-usuario\", toSend).then(function(response) {\r\n                console.log(response);\r\n                alert(\"OK\");\r\n            });\r\n        }\r\n\r\n    },\r\n    created() {\r\n        var vue = this;\r\n\r\n        axios.get(URI + \"customers\", { \"headers\": { \"Authorization\": \"Bearer \" + token, \"accept\": \"application/json\" } })\r\n            .then(function(response) {\r\n                console.log(\"customers\");\r\n                console.log(response);\r\n                vue.clientes_azure = response.data.items;\r\n                clientes_copia = response.data.items.slice(0);\r\n            }).catch(function(error) {\r\n                console.log(\"error \" + error);\r\n            });\r\n\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gestionar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gestionar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./gestionar.vue?vue&type=template&id=906875d6&\"\nimport script from \"./gestionar.vue?vue&type=script&lang=js&\"\nexport * from \"./gestionar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"gestionar.vue\"\nexport default component.exports"],"sourceRoot":""}